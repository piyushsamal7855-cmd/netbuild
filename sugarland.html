<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sugar Land - Premium Cake & Bakery Shop</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="sugarland.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>

    <div id="preloader">
        <div class="loader-content">
            <i class="fa-solid fa-cupcake fa-bounce" style="font-size: 50px; color: #FF8FAB;"></i>
            <h3 style="margin-top: 15px; color: #4A2C2C;">Baking your experience...</h3>
        </div>
    </div>

    <div class="scroll-progress" id="scrollProgress"></div>

    <div class="promo-bar">
        ğŸ‰ Special Offer: Get <strong>10% OFF</strong> on your first order! Use code: <span class="promo-code">SUGAR10</span>
    </div>

    <div class="butterflies">
        <div class="butterfly b1"><img src="butterfly.png" alt="butterfly"></div>
        <div class="butterfly b2"><img src="butterfly.png" alt="butterfly"></div>
        <div class="butterfly b3"><img src="butterfly.png" alt="butterfly"></div>
    </div>

    <div class="tracker-overlay" id="trackerPopup">
        <div class="tracker-box">
            <h2><i class="fa-solid fa-motorcycle fa-bounce"></i> Processing Order...</h2>
            <p>Please wait while we connect to our bakery</p>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="trackerFill"></div>
            </div>
            <ul class="tracker-steps">
                <li id="step1" class="active"><i class="fa-solid fa-check"></i> Order Placed</li>
                <li id="step2"><i class="fa-solid fa-fire-burner"></i> Sending to Kitchen</li>
                <li id="step3"><i class="fa-brands fa-whatsapp"></i> Opening WhatsApp</li>
            </ul>
        </div>
    </div>

    <nav class="navbar" data-aos="fade-down">
        <div class="logo">
            <h2>Sugar <span class="highlight">Land</span> ğŸ§</h2>
        </div>
        <ul class="nav-links">
            <li><a href="#home" class="active">Home</a></li>
            <li><a href="#menu">Menu</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#faq">FAQ</a></li>
        </ul>
        <div class="nav-actions">
            <div class="coin-badge" title="Your Sugar Coins"><i class="fa-solid fa-coins"></i> 150</div>
            
            <select id="langToggle" class="lang-select"><option value="en">EN</option><option value="hi">HI</option><option value="gu">GU</option></select>
            <button id="darkModeToggle" class="btn-login" style="font-size: 20px;"><i class="fa-solid fa-moon"></i></button>
            <button id="navCartBtn" class="btn-login" style="font-size: 20px; position:relative;">
                <i class="fa-solid fa-cart-shopping"></i><span id="cartBadge" class="cart-badge">0</span>
            </button>
            <a href="#builder" class="btn-primary" style="text-decoration:none;"><i class="fa-solid fa-wand-magic-sparkles"></i> <span data-trans="navBtn">Design Cake</span></a>
        </div>
    </nav>

    <div class="popup-overlay" id="welcomePopup">
        <div class="popup-box" id="giftBoxContainer">
            <span class="close-popup" id="closePopup"><i class="fa-solid fa-xmark"></i></span>
            <div id="unopenedGift" style="cursor: pointer;">
                <i class="fa-solid fa-gift fa-shake" style="font-size: 80px; color: var(--primary-color); margin-bottom: 20px;"></i>
                <h2>You've found a Mystery Gift!</h2>
                <p>Tap the box to reveal your sweet surprise before it expires.</p>
                <button class="btn-primary w-100" onclick="revealGift()">Tap to Open ğŸ</button>
            </div>
            <div id="openedGift" style="display: none;">
                <i class="fa-solid fa-ticket" style="font-size: 60px; color: #25D366; margin-bottom: 20px;"></i>
                <h2>Yay! 20% OFF ğŸ‰</h2>
                <p>Use code <strong>SWEET20</strong> at WhatsApp Checkout!</p>
                <button class="btn-primary w-100" onclick="document.getElementById('welcomePopup').style.display='none'">Claim Now</button>
            </div>
        </div>
    </div>

    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3><i class="fa-solid fa-cart-shopping"></i> Your Cart</h3>
            <span class="close-cart" id="closeCartBtn"><i class="fa-solid fa-xmark"></i></span>
        </div>
        <div class="cart-items" id="cartItemsList">
            <p style="text-align:center; color: var(--text-light); margin-top: 50px;">Your cart is empty. Let's add some sweetness!</p>
        </div>
        
        <div class="cart-addons-section" id="cartAddonsSection" style="display: none;">
            <h4>Make it special! âœ¨</h4>
            <div class="addon-grid">
                <div class="addon-item" onclick="addToCart('Magic Candles', 50)">ğŸ•¯ï¸ Candles (+â‚¹50)</div>
                <div class="addon-item" onclick="addToCart('Party Popper', 100)">ğŸ‰ Popper (+â‚¹100)</div>
                <div class="addon-item" onclick="addToCart('Happy Bday Tag', 30)">ğŸ·ï¸ Tag (+â‚¹30)</div>
            </div>
        </div>

        <div class="cart-footer">
            <div class="delivery-picker">
                <input type="date" id="deliveryDate" required>
                <select id="deliveryTime" required>
                    <option value="Morning (10 AM - 1 PM)">Morning (10 AM - 1 PM)</option>
                    <option value="Afternoon (1 PM - 5 PM)">Afternoon (1 PM - 5 PM)</option>
                    <option value="Evening (5 PM - 8 PM)">Evening (5 PM - 8 PM)</option>
                    <option value="Midnight (11 PM - 12 AM) +â‚¹150">Midnight Delivery (+â‚¹150)</option>
                </select>
            </div>
            <div class="cart-total"><span>Total:</span> <h3 id="cartTotalPrice">â‚¹0</h3></div>
            <button class="btn-primary w-100" onclick="checkoutCart()"><i class="fa-brands fa-whatsapp"></i> Checkout via WhatsApp</button>
        </div>
    </div>

    <div class="fomo-popup" id="fomoPopup">
        <img src="https://images.unsplash.com/photo-1533134242443-d4fd215305ad?w=100&auto=format&fit=crop" id="fomoImg" alt="Cake">
        <div class="fomo-text">
            <h4 id="fomoTitle">Someone ordered a cake</h4>
            <p id="fomoTime">Just now</p>
        </div>
    </div>

    <section class="hero" id="home">
        <div class="hero-content" data-aos="fade-right" data-aos-duration="1200">
            <span class="badge">âœ¨ Sweetness in Every Bite</span>
            <h1 data-trans="heroTitle">Welcome to <span class="highlight">Sugar Land</span> Bakery</h1>
            <p data-trans="heroDesc">We craft the finest cakes, pastries, and baked goods in town. Made with love, premium ingredients, and a sprinkle of magic for your special moments.</p>
            
            <div class="pincode-checker">
                <input type="number" id="pinInput" placeholder="Enter Pincode (e.g. 395017)">
                <button onclick="checkPincode()"><i class="fa-solid fa-location-crosshairs"></i> Check</button>
            </div>
            <p id="pinResult" style="font-size: 13px; margin-top: 5px; font-weight: 600;"></p>

            <div class="hero-buttons" style="margin-top: 20px;">
                <a href="#menu" class="btn-primary large" style="text-decoration:none;" data-trans="heroBtn">View Full Menu</a>
            </div>
        </div>
        <div class="hero-image" data-aos="fade-left" data-aos-duration="1200">
            <div class="blob"></div>
            <img src="https://images.unsplash.com/photo-1626803775151-61d756612f97?q=80&w=800&auto=format&fit=crop" alt="Signature Cake" class="main-cake floating-anim">
        </div>
        <div class="wave-divider">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V120H0V95.8C79.86,118.84,159.27,118.3,232.44,103.11c24.63-5.11,48.16-11.23,72.4-18.06,10.63-2.94,21.3-6.14,32.32-9.69Z" class="shape-fill"></path></svg>
        </div>
    </section>

    <section class="how-it-works">
        <div class="section-header" data-aos="fade-up">
            <h2 data-trans="howTitle">How It <span class="highlight">Works</span></h2>
            <p>Your dream cake in 3 simple steps</p>
        </div>
        <div class="steps-container">
            <div class="step-card" data-aos="fade-up" data-aos-delay="100"><div class="step-icon"><i class="fa-solid fa-cake-candles"></i></div><h3>1. Choose Your Cake</h3><p>Select from our menu or design custom.</p></div>
            <div class="step-card" data-aos="fade-up" data-aos-delay="200"><div class="step-icon"><i class="fa-solid fa-kitchen-set"></i></div><h3>2. We Bake with Love</h3><p>Prepared using premium, fresh ingredients.</p></div>
            <div class="step-card" data-aos="fade-up" data-aos-delay="300"><div class="step-icon"><i class="fa-solid fa-truck-fast"></i></div><h3>3. Fresh Delivery</h3><p>Fast and safe delivery right to your doorstep.</p></div>
        </div>
    </section>

    <section class="trust-badges" data-aos="fade-up">
        <div class="badge-item"><i class="fa-solid fa-leaf"></i><h4>100% Pure Veg</h4><p>Eggless Baking</p></div>
        <div class="badge-item"><i class="fa-solid fa-certificate"></i><h4>FSSAI Certified</h4><p>Safe & Hygienic</p></div>
        <div class="badge-item"><i class="fa-solid fa-truck-fast"></i><h4>Fast Delivery</h4><p>Same Day Available</p></div>
        <div class="badge-item"><i class="fa-solid fa-star"></i><h4>Premium Quality</h4><p>Best Ingredients</p></div>
    </section>

    <section class="flash-sale" data-aos="zoom-in">
        <div class="flash-content">
            <h2>âš¡ Today's Special Deal</h2>
            <p>Get a flat <strong>20% OFF</strong> on all Cheesecakes. Hurry up!</p>
        </div>
        <div class="flash-timer">
            <div class="time-box"><span id="hours">04</span><p>Hours</p></div>
            <div class="time-box"><span id="minutes">45</span><p>Mins</p></div>
            <div class="time-box"><span id="seconds">30</span><p>Secs</p></div>
        </div>
    </section>

    <section class="about-section" id="about">
        <div class="about-container">
            <div class="about-image-wrapper" data-aos="fade-right">
                <img src="https://images.unsplash.com/photo-1517433670267-08bbd4be890f?q=80&w=800&auto=format&fit=crop" alt="Bakery Shop" class="about-image-fix">
            </div>
            <div class="about-content" data-aos="fade-left">
                <h2>Our <span class="highlight">Story</span></h2>
                <p>Located in the heart of Surat, Sugar Land is more than just a bakeryâ€”it is a place where sweet memories are born. Our journey started with a simple passion for baking and a dream to bring smiles to our community.</p>
                <ul class="features-list">
                    <li><i class="fa-solid fa-check-circle highlight"></i> 100% Eggless Options</li>
                    <li><i class="fa-solid fa-check-circle highlight"></i> Freshly Baked Daily</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="popular-section" id="menu">
        <div class="section-header" data-aos="fade-up">
            <h2 data-trans="menuTitle">Our Popular <span class="highlight">Treats</span></h2>
            <p>Handpicked favorites loved by our customers</p>
        </div>
        
        <div class="menu-filters" data-aos="fade-up">
            <button class="filter-btn active" data-filter="all">All Treats</button>
            <button class="filter-btn" data-filter="cakes">Cakes</button>
            <button class="filter-btn" data-filter="cupcakes">Cupcakes</button>
        </div>

        <div class="menu-grid">
            <div class="menu-card tilt-card" data-category="cupcakes" data-aos="fade-up">
                <div class="card-image"><img src="https://images.unsplash.com/photo-1576618148400-f54bed99fcfd?q=80&w=600&auto=format&fit=crop" alt="Cupcakes"><span class="price-tag">â‚¹350</span></div>
                <div class="card-content"><h3>Assorted Cupcakes</h3><p class="earn-coins"><i class="fa-solid fa-coins"></i> Earn 35 Coins</p><button class="btn-card" onclick="addToCart('Assorted Cupcakes', 350)">Add to Cart <i class="fa-solid fa-plus"></i></button></div>
            </div>
            <div class="menu-card tilt-card" data-category="cakes" data-aos="fade-up">
                <div class="card-image"><img src="https://images.unsplash.com/photo-1533134242443-d4fd215305ad?q=80&w=600&auto=format&fit=crop" alt="Cheesecake"><span class="price-tag">â‚¹850</span></div>
                <div class="card-content"><h3>Berry Cheesecake</h3><p class="earn-coins"><i class="fa-solid fa-coins"></i> Earn 85 Coins</p><button class="btn-card" onclick="addToCart('Berry Cheesecake', 850)">Add to Cart <i class="fa-solid fa-plus"></i></button></div>
            </div>
             <div class="menu-card tilt-card" data-category="cakes" data-aos="fade-up">
                <div class="card-image"><img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?q=80&w=600&auto=format&fit=crop" alt="Chocolate Cake"><span class="price-tag">â‚¹650</span></div>
                <div class="card-content"><h3>Chocolate Truffle Cake</h3><p class="earn-coins"><i class="fa-solid fa-coins"></i> Earn 65 Coins</p><button class="btn-card" onclick="addToCart('Chocolate Truffle Cake', 650)">Add to Cart <i class="fa-solid fa-plus"></i></button></div>
            </div>
        </div>
    </section>

    <section class="assistant-section" id="builder">
        <div class="assistant-container" data-aos="fade-up">
            <div class="assistant-header">
                <i class="fa-solid fa-cake-candles"></i>
                <div>
                    <h2 data-trans="builderTitle">Design Your Dream Cake</h2>
                    <p>Select your preferences below, and we'll send your custom design directly to our WhatsApp!</p>
                </div>
            </div>
            <form id="cakeBuilderForm" class="assistant-form">
                <div class="form-row">
                    <div class="input-group">
                        <label>Cake Size & Shape</label>
                        <select id="cakeSize" required onchange="calculateLivePrice()">
                            <option value="" disabled selected>Select Size</option>
                            <option value="Round - 1/2 Kg" data-base="400">Round - 1/2 Kg (â‚¹400 Base)</option>
                            <option value="Round - 1 Kg" data-base="800">Round - 1 Kg (â‚¹800 Base)</option>
                            <option value="2 Tier - 2 Kg" data-base="1800">2 Tier - 2 Kg (â‚¹1800 Base)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Base Flavor</label>
                        <select id="cakeFlavor" required onchange="calculateLivePrice()">
                            <option value="" disabled selected>Select Flavor</option>
                            <option value="Vanilla" data-extra="0">Vanilla (No extra charge)</option>
                            <option value="Chocolate Truffle" data-extra="150">Chocolate Truffle (+â‚¹150)</option>
                            <option value="Red Velvet" data-extra="200">Red Velvet (+â‚¹200)</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label>Message on Cake & Extra Details</label>
                    <textarea id="extraDetails" rows="2" placeholder="E.g., Happy Birthday Neha! Please make it less sweet..."></textarea>
                </div>
                <div class="live-price-box">
                    <span>Estimated Total:</span>
                    <h3 id="livePriceDisplay">â‚¹0</h3>
                </div>
                <button type="submit" class="btn-primary w-100"><i class="fa-brands fa-whatsapp"></i> Send Design to WhatsApp</button>
            </form>
        </div>
    </section>

    <section class="team-section" id="team">
        <div class="section-header" data-aos="fade-up"><h2>Meet Our <span class="highlight">Master Bakers</span></h2></div>
        <div class="team-grid">
            <div class="team-card" data-aos="zoom-in" data-aos-delay="100"><img src="https://images.unsplash.com/photo-1556910103-1c02745aae4d?q=80&w=400&auto=format&fit=crop" alt="Chef Rahul"><h3>Chef Rahul</h3><p>Head Pastry Chef</p></div>
            <div class="team-card" data-aos="zoom-in" data-aos-delay="200"><img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?q=80&w=400&auto=format&fit=crop" alt="Chef Anjali"><h3>Chef Anjali</h3><p>Fondant Art Specialist</p></div>
            <div class="team-card" data-aos="zoom-in" data-aos-delay="300"><img src="https://images.unsplash.com/photo-1583338917451-face2751d8d5?q=80&w=400&auto=format&fit=crop" alt="Chef Vikram"><h3>Chef Vikram</h3><p>Artisanal Expert</p></div>
        </div>
    </section>

    <section class="faq-section" id="faq">
        <div class="section-header" data-aos="fade-up"><h2>Frequently Asked <span class="highlight">Questions</span></h2></div>
        <div class="faq-container" data-aos="fade-up">
            <details class="faq-item"><summary>Do you offer Midnight Delivery? <i class="fa-solid fa-chevron-down faq-icon"></i></summary><div class="faq-content"><p>Yes! We offer special midnight delivery across Surat.</p></div></details>
            <details class="faq-item"><summary>Are all your cakes 100% Eggless? <i class="fa-solid fa-chevron-down faq-icon"></i></summary><div class="faq-content"><p>Absolutely! Our entire facility is 100% pure vegetarian and eggless.</p></div></details>
        </div>
    </section>

    <section class="testimonials-marquee" id="reviews">
        <div class="section-header" data-aos="fade-up"><h2>Happy <span class="highlight">Customers</span></h2></div>
        <div class="marquee-wrapper">
            <div class="marquee-track">
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Best custom cake in Surat!"</p><h4>- Neha P.</h4></div>
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Amazing Red Velvet!"</p><h4>- Rahul S.</h4></div>
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Super fresh and eggless."</p><h4>- Anjali M.</h4></div>
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Delivered perfectly on time!"</p><h4>- Vikram K.</h4></div>
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Best custom cake in Surat!"</p><h4>- Neha P.</h4></div>
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Amazing Red Velvet!"</p><h4>- Rahul S.</h4></div>
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Super fresh and eggless."</p><h4>- Anjali M.</h4></div>
                <div class="review-slide"><div class="stars">â­â­â­â­â­</div><p>"Delivered perfectly on time!"</p><h4>- Vikram K.</h4></div>
            </div>
        </div>
    </section>

    <section class="instagram-section" id="gallery">
        <div class="section-header" data-aos="fade-up">
            <h2>Follow Us on <span class="highlight">Instagram</span></h2>
            <p>@SugarLandBakery</p>
        </div>
        <div class="insta-grid">
            <div class="insta-item"><img src="https://images.unsplash.com/photo-1588195538326-c5b1e9f80a1b?w=400&auto=format&fit=crop" alt="Ig 1"><div class="insta-overlay"><i class="fa-brands fa-instagram"></i></div></div>
            <div class="insta-item"><img src="https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?w=400&auto=format&fit=crop" alt="Ig 2"><div class="insta-overlay"><i class="fa-brands fa-instagram"></i></div></div>
            <div class="insta-item"><img src="https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=400&auto=format&fit=crop" alt="Ig 3"><div class="insta-overlay"><i class="fa-brands fa-instagram"></i></div></div>
            <div class="insta-item"><img src="https://images.unsplash.com/photo-1535141192574-5d4897c12636?w=400&auto=format&fit=crop" alt="Ig 4"><div class="insta-overlay"><i class="fa-brands fa-instagram"></i></div></div>
        </div>
    </section>

    <section class="location-section" id="location">
        <div class="location-content" data-aos="fade-right">
            <h2>Visit <span class="highlight">Sugar Land</span></h2>
            <ul class="contact-info">
                <li><i class="fa-solid fa-location-dot highlight"></i> <span>Vanita Heights, 1203, Vesu Canal Rd, Surat</span></li>
                <li><i class="fa-solid fa-clock highlight"></i> <span>Open Daily: 10:00 AM - 8:00 PM</span></li>
                <li><i class="fa-solid fa-phone highlight"></i> <span>+91 75675 68060</span></li>
            </ul>
        </div>
        <div class="map-container" data-aos="fade-left">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3721.0543666299496!2d72.8105!3d21.1498!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be04f005c879831%3A0xe54d2cd5017df716!2sSugar%20Land!5e0!3m2!1sen!2sin!4v1700000000000!5m2!1sen!2sin" width="100%" height="100%" style="border:0; border-radius: 20px;" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </section>

    <section class="birthday-club">
        <div class="club-container" data-aos="zoom-in">
            <h2>ğŸ‚ Join Our Birthday Club</h2>
            <p>Enter your details and get a flat <strong>20% OFF</strong> coupon code!</p>
            <form class="club-form" id="birthdayForm">
                <input type="text" placeholder="Your Name" required>
                <input type="email" placeholder="Email or WhatsApp" required>
                <button type="submit" class="btn-primary">Join the Club</button>
            </form>
        </div>
    </section>

    <footer><p>Â© 2024 Sugar Land Bakery. Built by Netbuild.in</p></footer>

    <a href="https://wa.me/917567568060?text=Hi%20Sugar%20Land!%20I%20want%20to%20order." class="whatsapp-float" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
    
    <button class="chatbot-toggler"><i class="fa-solid fa-robot"></i></button>
    <div class="chatbot-window">
        <div class="chat-header"><h3><i class="fa-solid fa-wand-magic-sparkles"></i> Sugar Land AI</h3><span class="close-btn"><i class="fa-solid fa-xmark"></i></span></div>
        <ul class="chatbox"><li class="chat incoming"><i class="fa-solid fa-robot bot-avatar"></i><p>Hi there ğŸ‘‹<br>I am your smart AI baking assistant. What kind of cake are you looking for?</p></li></ul>
        <div class="chat-input">
            <textarea placeholder="Type your dream cake..." id="aiInput" required></textarea>
            <span id="mic-btn" title="Speak your order"><i class="fa-solid fa-microphone"></i></span>
            <span id="send-btn"><i class="fa-solid fa-paper-plane"></i></span>
        </div>
    </div>

    <div class="mobile-sticky-footer">
        <div class="sticky-price"><span>Your Cart</span><h4 id="mobileCartTotal">â‚¹0</h4></div>
        <button class="btn-primary" onclick="document.getElementById('cartSidebar').classList.add('open')"><i class="fa-solid fa-bag-shopping"></i> View Cart</button>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <script>
        // PRELOADER & POPUP
        window.addEventListener('load', function() {
            setTimeout(() => { document.getElementById('preloader').style.opacity = '0'; setTimeout(() => document.getElementById('preloader').style.display = 'none', 500); }, 1000); 
            setTimeout(() => { if(!sessionStorage.getItem('popupShown')){ document.getElementById('welcomePopup').style.display = 'flex'; sessionStorage.setItem('popupShown', 'true'); } }, 3500); 
        });
        document.getElementById('closePopup').addEventListener('click', () => document.getElementById('welcomePopup').style.display = 'none');
        function revealGift() {
            document.getElementById('unopenedGift').style.display = 'none';
            document.getElementById('openedGift').style.display = 'block';
            confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } });
        }

        // PINCODE CHECKER ğŸ“
        function checkPincode() {
            let pin = document.getElementById('pinInput').value;
            let result = document.getElementById('pinResult');
            if(pin.startsWith('395') && pin.length === 6) { result.innerHTML = "<span style='color:#25D366;'><i class='fa-solid fa-check'></i> Fast Delivery Available!</span>"; } 
            else if(pin.length < 6) { result.innerHTML = "<span style='color:red;'>Please enter 6 digit Pincode.</span>"; } 
            else { result.innerHTML = "<span style='color:red;'><i class='fa-solid fa-xmark'></i> Sorry, out of delivery zone.</span>"; }
        }

        // MENU CATEGORY FILTERS ğŸ—‚ï¸
        const filterBtns = document.querySelectorAll('.filter-btn');
        const menuCards = document.querySelectorAll('.menu-card');
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active')); btn.classList.add('active');
                let filterValue = btn.getAttribute('data-filter');
                menuCards.forEach(card => {
                    if(filterValue === 'all' || card.getAttribute('data-category') === filterValue) card.style.display = 'block';
                    else card.style.display = 'none';
                });
            });
        });

        // SLIDE OUT CART SYSTEM & TRACKER LOGIC ğŸ›’ğŸ›µ
        let cart = [];
        function addToCart(name, price) {
            cart.push({name, price});
            updateCartUI();
            document.getElementById('cartSidebar').classList.add('open');
            document.getElementById('cartAddonsSection').style.display = 'block'; // Show addons
        }
        function updateCartUI() {
            let cartList = document.getElementById('cartItemsList');
            let total = 0; cartList.innerHTML = '';
            if(cart.length === 0) { cartList.innerHTML = '<p style="text-align:center; color:#888; margin-top:50px;">Your cart is empty.</p>'; document.getElementById('cartAddonsSection').style.display = 'none';}
            else {
                cart.forEach((item, index) => {
                    total += item.price;
                    cartList.innerHTML += `<div style="display:flex; justify-content:space-between; margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:10px;">
                        <span style="color:#4A2C2C; font-weight:600;">${item.name}</span>
                        <span style="color:#FF8FAB; font-weight:700;">â‚¹${item.price} <i class="fa-solid fa-trash" style="color:gray; cursor:pointer; margin-left:10px;" onclick="removeFromCart(${index})"></i></span>
                    </div>`;
                });
            }
            document.getElementById('cartTotalPrice').innerText = `â‚¹${total}`;
            document.getElementById('cartBadge').innerText = cart.length;
            document.getElementById('mobileCartTotal').innerText = `â‚¹${total}`;
        }
        function removeFromCart(index) { cart.splice(index, 1); updateCartUI(); }
        document.getElementById('navCartBtn').addEventListener('click', () => document.getElementById('cartSidebar').classList.add('open'));
        document.getElementById('closeCartBtn').addEventListener('click', () => document.getElementById('cartSidebar').classList.remove('open'));
        
        // CHECKOUT & ORDER TRACKER UI
        function checkoutCart() {
            if(cart.length === 0) return alert('Add some items first!');
            let date = document.getElementById('deliveryDate').value;
            let time = document.getElementById('deliveryTime').value;
            if(!date) return alert('Please select a delivery date!');

            // Close cart, show tracker
            document.getElementById('cartSidebar').classList.remove('open');
            let tracker = document.getElementById('trackerPopup');
            tracker.style.display = 'flex';
            
            // Animate Tracker Steps
            setTimeout(() => { document.getElementById('trackerFill').style.width = '50%'; document.getElementById('step2').classList.add('active'); }, 1500);
            setTimeout(() => { document.getElementById('trackerFill').style.width = '100%'; document.getElementById('step3').classList.add('active'); }, 3000);
            
            setTimeout(() => {
                tracker.style.display = 'none';
                let list = cart.map(i => `- ${i.name} (â‚¹${i.price})`).join('\n');
                let total = cart.reduce((a, b) => a + b.price, 0);
                let msg = `Hello Sugar Land Team! ğŸ°\n\nI want to order:\n${list}\n\n*Delivery Date:* ${date}\n*Time Slot:* ${time}\n\n*Total Bill: â‚¹${total}*\nPlease confirm my order!`;
                window.open("https://wa.me/917567568060?text=" + encodeURIComponent(msg), '_blank');
            }, 4000);
        }

        // Set minimum date to today
        document.getElementById('deliveryDate').min = new Date().toISOString().split("T")[0];

        // LIVE PRICE CALCULATOR ğŸ§®
        function calculateLivePrice() {
            let sizeEl = document.getElementById('cakeSize'); let flavorEl = document.getElementById('cakeFlavor');
            let total = 0;
            if(sizeEl.options[sizeEl.selectedIndex].dataset.base) total += parseInt(sizeEl.options[sizeEl.selectedIndex].dataset.base);
            if(flavorEl.options[flavorEl.selectedIndex].dataset.extra) total += parseInt(flavorEl.options[flavorEl.selectedIndex].dataset.extra);
            document.getElementById('livePriceDisplay').innerText = total > 0 ? `â‚¹${total}` : `â‚¹0`;
        }

        // FOMO POPUP, 3D PARALLAX, LANG, DARK MODE, CONFETTI, FAQ, TIMERS
        const fomoData = [ { name: "Rahul from Vesu", cake: "Red Velvet", img: "https://images.unsplash.com/photo-1588195538326-c5b1e9f80a1b?w=100&auto=format&fit=crop" }, { name: "Priya from Althan", cake: "Custom Cake", img: "https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=100&auto=format&fit=crop" } ];
        setInterval(() => { const f = document.getElementById('fomoPopup'); const r = fomoData[Math.floor(Math.random() * fomoData.length)]; document.getElementById('fomoTitle').innerText = `${r.name} ordered a ${r.cake}`; f.classList.add('show'); setTimeout(() => f.classList.remove('show'), 4000); }, 15000);
        
        document.querySelectorAll('.tilt-card').forEach(card => {
            card.addEventListener('mousemove', e => { let rect = card.getBoundingClientRect(); let xOut = ((e.clientX - rect.left) / rect.width - 0.5) * 15; let yOut = ((e.clientY - rect.top) / rect.height - 0.5) * -15; card.style.transform = `perspective(1000px) rotateY(${xOut}deg) rotateX(${yOut}deg) scale3d(1.02, 1.02, 1.02)`; card.style.transition = 'none'; });
            card.addEventListener('mouseleave', () => { card.style.transition = 'transform 0.5s ease'; card.style.transform = `perspective(1000px) rotateY(0deg) rotateX(0deg) scale3d(1, 1, 1)`; });
        });

        const translations = {
            en: { navBtn: "Design Cake", heroTitle: "Welcome to <span class='highlight'>Sugar Land</span> Bakery", heroDesc: "We craft the finest cakes, pastries, and baked goods in town. Made with love, premium ingredients, and a sprinkle of magic.", heroBtn: "View Full Menu", howTitle: "How It <span class='highlight'>Works</span>", menuTitle: "Our Popular <span class='highlight'>Treats</span>", builderTitle: "Design Your Dream Cake" },
            hi: { navBtn: "à¤•à¥‡à¤• à¤¡à¤¿à¤œà¤¾à¤‡à¤¨ à¤•à¤°à¥‡à¤‚", heroTitle: "<span class='highlight'>à¤¶à¥à¤—à¤° à¤²à¥ˆà¤‚à¤¡</span> à¤¬à¥‡à¤•à¤°à¥€ à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ", heroDesc: "à¤¹à¤® à¤¶à¤¹à¤° à¤®à¥‡à¤‚ à¤¬à¥‡à¤¹à¤¤à¤°à¥€à¤¨ à¤•à¥‡à¤• à¤”à¤° à¤ªà¥‡à¤¸à¥à¤Ÿà¥à¤°à¥€ à¤¬à¤¨à¤¾à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤ à¤ªà¥à¤¯à¤¾à¤°, à¤¤à¤¾à¤œà¤¼à¤¾ à¤¸à¤¾à¤®à¤—à¥à¤°à¥€ à¤”à¤° à¤œà¤¾à¤¦à¥‚ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¤à¥ˆà¤¯à¤¾à¤° à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾à¥¤", heroBtn: "à¤ªà¥‚à¤°à¤¾ à¤®à¥‡à¤¨à¥‚ à¤¦à¥‡à¤–à¥‡à¤‚", howTitle: "à¤¯à¤¹ à¤•à¥ˆà¤¸à¥‡ à¤•à¤¾à¤® <span class='highlight'>à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆ</span>", menuTitle: "à¤¹à¤®à¤¾à¤°à¥€ à¤²à¥‹à¤•à¤ªà¥à¤°à¤¿à¤¯ <span class='highlight'>à¤®à¤¿à¤ à¤¾à¤‡à¤¯à¤¾à¤</span>", builderTitle: "à¤¸à¤ªà¤¨à¥‹à¤‚ à¤•à¤¾ à¤•à¥‡à¤• à¤¡à¤¿à¤œà¤¾à¤‡à¤¨ à¤•à¤°à¥‡à¤‚" },
            gu: { navBtn: "àª•à«‡àª• àª¡àª¿àªàª¾àª‡àª¨ àª•àª°à«‹", heroTitle: "<span class='highlight'>àª¸à«àª—àª° àª²à«‡àª¨à«àª¡</span> àª¬à«‡àª•àª°à«€àª®àª¾àª‚ àª¸à«àªµàª¾àª—àª¤ àª›à«‡", heroDesc: "àª…àª®à«‡ àª¶àª¹à«‡àª°àª®àª¾àª‚ àª¶à«àª°à«‡àª·à«àª  àª•à«‡àª• àª…àª¨à«‡ àªªà«‡àª¸à«àªŸà«àª°à«€ àª¬àª¨àª¾àªµà«€àª àª›à«€àª. àªªà«àª°à«‡àª®, àª¶à«àª¦à«àª§ àª¸àª¾àª®àª—à«àª°à«€ àª…àª¨à«‡ àªœàª¾àª¦à« àª¸àª¾àª¥à«‡ àª¤à«ˆàª¯àª¾àª°.", heroBtn: "àª†àª–à«àª‚ àª®à«‡àª¨à«‚ àªœà«àª“", howTitle: "àª† àª•à«‡àªµà«€ àª°à«€àª¤à«‡ <span class='highlight'>àª•àª¾àª® àª•àª°à«‡ àª›à«‡</span>", menuTitle: "àª²à«‹àª•àªªà«àª°àª¿àª¯ <span class='highlight'>àª®à«€àª àª¾àªˆàª“</span>", builderTitle: "àª¤àª®àª¾àª°à«‹ àª¡à«àª°à«€àª® àª•à«‡àª• àª¡àª¿àªàª¾àª‡àª¨ àª•àª°à«‹" }
        };
        document.getElementById('langToggle').addEventListener('change', function() { let lang = this.value; document.querySelectorAll('[data-trans]').forEach(el => { let key = el.getAttribute('data-trans'); if(translations[lang][key]) el.innerHTML = translations[lang][key]; }); });

        document.getElementById('darkModeToggle').addEventListener('click', () => { document.body.classList.toggle('dark-theme'); let i = document.getElementById('darkModeToggle').querySelector('i'); i.classList.toggle('fa-moon'); i.classList.toggle('fa-sun'); });
        window.onscroll = function() { document.getElementById("scrollProgress").style.width = (document.body.scrollTop || document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight) * 100 + "%"; };
        document.getElementById('birthdayForm').addEventListener('submit', function(e) { e.preventDefault(); confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } }); setTimeout(() => alert('Successfully registered! ğŸ‰'), 800); });
        document.querySelectorAll('.faq-item').forEach(f => f.addEventListener('click', () => { let i = f.querySelector('.faq-icon'); i.style.transform = f.hasAttribute('open') ? 'rotate(0deg)' : 'rotate(180deg)'; }));
        AOS.init({ once: true, offset: 50 });

        // FIXED TIMER JS â±ï¸
        function startTimer() {
            let time = 4 * 3600 + 45 * 60 + 30; // 4h 45m 30s
            let hoursEl = document.getElementById('hours'); let minsEl = document.getElementById('minutes'); let secsEl = document.getElementById('seconds');
            if(hoursEl && minsEl && secsEl) {
                setInterval(function() {
                    let h = Math.floor(time / 3600), m = Math.floor((time % 3600) / 60), s = time % 60;
                    hoursEl.innerText = h < 10 ? '0'+h : h; minsEl.innerText = m < 10 ? '0'+m : m; secsEl.innerText = s < 10 ? '0'+s : s;
                    if(time > 0) time--;
                }, 1000);
            }
        }
        startTimer();

        // Chatbot Logics & Voice UI ğŸ¤
        const chatbotToggler = document.querySelector(".chatbot-toggler"), closeBtn = document.querySelector(".close-btn"), chatbox = document.querySelector(".chatbox"), chatInput = document.getElementById("aiInput"), sendChatBtn = document.querySelector("#send-btn"), micBtn = document.getElementById("mic-btn");
        
        micBtn.addEventListener("click", () => {
            chatInput.placeholder = "Listening... Speak now ğŸ¤";
            micBtn.style.color = "#ff6b8b";
            micBtn.classList.add("fa-beat-fade");
            setTimeout(() => {
                chatInput.value = "I need a beautiful red velvet cake for tomorrow.";
                chatInput.placeholder = "Type your dream cake...";
                micBtn.style.color = "var(--primary-color)";
                micBtn.classList.remove("fa-beat-fade");
            }, 2500);
        });

        const createChatLi = (msg, cls) => { let li = document.createElement("li"); li.classList.add("chat", cls); li.innerHTML = cls === "outgoing" ? `<p></p>` : `<i class="fa-solid fa-robot bot-avatar"></i><p></p>`; li.querySelector("p").textContent = msg; return li; }
        const handleChat = () => { let msg = chatInput.value.trim(); if(!msg) return; chatInput.value = ""; chatbox.appendChild(createChatLi(msg, "outgoing")); chatbox.scrollTo(0, chatbox.scrollHeight); setTimeout(() => { let incLi = createChatLi("Thinking...", "incoming"); chatbox.appendChild(incLi); chatbox.scrollTo(0, chatbox.scrollHeight); setTimeout(() => { incLi.querySelector("p").innerHTML = `Redirecting to WhatsApp...`; setTimeout(() => window.open("https://wa.me/917567568060?text=" + encodeURIComponent("Hi, AI sent me: " + msg), '_blank'), 1500); }, 1000); }, 600); }
        sendChatBtn.addEventListener("click", handleChat); chatInput.addEventListener("keypress", e => { if(e.key === "Enter" && !e.shiftKey) { e.preventDefault(); handleChat(); }});
        chatbotToggler.addEventListener("click", () => document.body.classList.toggle("show-chatbot")); closeBtn.addEventListener("click", () => document.body.classList.remove("show-chatbot"));
    </script>
</body>
</html>
